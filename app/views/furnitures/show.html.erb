<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Bootstrap Utility Classes</title>
    <link rel="shortcut icon" href="data:image/x-icon;" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">
  </head>

  <body class="bg-light">
    <%= link_to "Back to your search", furnitures_path %>

    <!-- furniture title and photos -->
    <div class="card p-6 bg-white w-75 d-block mx-auto">
      <div class="card-body d-block mx-auto">
        <h2 class="d-block mx-auto text-center"><strong><%= @furniture.name.capitalize %></strong></h2>
        <p class="text-muted d-block mx-auto text-center"><%= @furniture.description %></p>
      </div>
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner" style="height: 40vh;">
          <div class="carousel-item active">
            <img src="https://picsum.photos/id/<%= @furniture.id %>/1000/1000" class="d-block w-100" alt="" style="object-fit: cover;">
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/id/<%= @furniture.id %>/1000/1000" class="d-block w-100" alt="" style="object-fit: cover;">
          </div>
          <div class="carousel-item">
            <img src="https://picsum.photos/id/<%= @furniture.id %>/1000/1000" class="d-block w-100" alt="" style="object-fit: cover;">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <!-- /furniture title and photos -->

    <!-- furniture booking checkout-->
    <div class="container p-3">
      <div class="row">
        <div class="col-md-8 my-5">

          <!-- alert (warning) -->
            <div class="alert alert-warning" role="alert">
             <strong>Hurry up !</strong> Several people are looking at this furniture every day.
            </div>

          <h3>More information...</h3>

          <!-- card -->
          <div class="card p-3 m-15">
            <p><strong><%= @furniture.description %></strong></p>
            <p><strong>Lorem ipsum</strong></p>
            <p><small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam, nam ea! Ipsam, autem esse minus alias perspiciatis dolorum asperiores harum facilis cum consequuntur, quis earum, rerum facere doloremque est ducimus.</small></p>
            <p><small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam, nam ea! Ipsam, autem esse minus alias perspiciatis dolorum asperiores harum facilis cum consequuntur, quis earum, rerum facere doloremque est ducimus.</small></p>
            <p><small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam, nam ea! Ipsam, autem esse minus alias perspiciatis dolorum asperiores harum facilis cum consequuntur, quis earum, rerum facere doloremque est ducimus.</small></p>
            <p><small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam, nam ea! Ipsam, autem esse minus alias perspiciatis dolorum asperiores harum facilis cum consequuntur, quis earum, rerum facere doloremque est ducimus.</small></p>
            <p><small>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam, nam ea! Ipsam, autem esse minus alias perspiciatis dolorum asperiores harum facilis cum consequuntur, quis earum, rerum facere doloremque est ducimus.</small></p>
          </div>

        </div>

        <div class="col-md-4">
          <!-- checkout -->
          <div class="card p-3 mt-1">

            <!-- make this a full length button -->
            <div class="row">
              <div class="d-flex justify-content-between bd-highlight mt-2">
                <div class="bd-highlight">
                  <p><strong>Price per months</strong> (6)</p>
                </div>
                <div class="bd-highlight">
                  <p><%= @furniture.price_per_day %> €</p>
                </div>
              </div>

              <div class="d-flex bd-highlight text-muted mx-auto w-75 px-auto">
                <%= simple_form_for([@furniture, @booking]) do |f| %>
                  <div class="flex-grow-1 bd-highlight d-flex mx-auto">
                    <p class="border-right mx-auto"><%= f.input :start_date %></p>
                  </div>
                  <div class="flex-shrink-1 bd-highlight border-left d-flex mx-auto">
                    <p class="border-left mx-auto"><%= f.input :end_date %></p>
                  </div>
                  <div class="d-flex justify-content-between bd-highlight">
                    <div class="p-2 bd-highlight">
                      <p><strong>Total</strong></p>
                    </div>
                    <div class="p-2 bd-highlight">
                      <p>110 €</p>
                    </div>
                  </div>

                  <div class="d-flex justify-content-between bd-highlight">
                    <div class="p-2 bd-highlight">
                      <p><strong>Delivery</strong></p>
                    </div>
                    <div class="p-2 bd-highlight">
                      <p>5 €</p>
                    </div>
                  </div>

                  <div class="d-flex justify-content-between bd-highlight">
                    <div class="p-2 bd-highlight">
                      <p><strong>Services</strong></p>
                    </div>
                    <div class="p-2 bd-highlight">
                      <p>4.95 €</p>
                    </div>
                  </div>

                  <div class="d-flex justify-content-between bd-highlight border-top">
                    <div class="p-2 bd-highlight">
                      <p><strong>Total</strong></p>
                    </div>
                    <div class="p-2 bd-highlight">
                      <p><strong><%= 119.95%> €</strong></p>
                    </div>
                  </div>
                  <%= f.submit "Book it", class: "btn btn-primary mx-auto w-75" %>
                <% end %>
              </div>

            </div>
          </div>
          <!-- /checkout -->
        </div>
      </div>
    </div>

    <!-- Bootstrap JavaScript library -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <br>

    <% if policy(@furniture).edit? %>
      <%= link_to "Edit this furniture", edit_furniture_path(@furniture) %>
    <% end %>

    <br>

    <%= button_to "Destroy this furniture", @furniture, method: :delete if policy(@furniture).destroy? %>

    <div class="clearfix">
      <div class="spinner-border float-end" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </body>
</html>
